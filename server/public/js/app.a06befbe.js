(function(e){function t(t){for(var s,n,i=t[0],l=t[1],c=t[2],u=0,d=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);p&&p(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(s=!1)}s&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},o={app:0},r=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var p=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1:function(e,t){},2:function(e,t){},3:function(e,t){},"337b":function(e,t,a){"use strict";a("67e8")},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",{staticClass:"grey lighten-1"},[a("PostComponent")],1)],1)},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"px-5"},[a("h1",{staticClass:"my-5"},[e._v("Psí databáze")]),a("Form"),a("hr"),e.message?a("div",{class:e.error?"error":"success"},[e._v(e._s(e.message))]):e._e(),a("v-dialog",{attrs:{"max-width":"600","overlay-color":"grey"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.dialog?a("v-card",[a("h1",[e._v(e._s(e.selectedDog.body.name))]),a("h1",[e._v(e._s(e.selectedDog.body.age))]),a("h1",[e._v(e._s(e.selectedDog.body.breed))]),a("h1",[e._v(e._s(e.selectedDog.body.info))])]):e._e()],1),e.posts.length?a("v-row",{staticClass:"ma-0"},e._l(e.posts.slice().reverse(),(function(t){return a("v-col",{key:t._id,staticClass:"pa-5 grey lighten-5",attrs:{item:t,cols:12,sm:6,lg:3}},[a("v-card",{staticClass:"card",on:{click:function(a){return e.updateSelected(t)}}},[a("span",{staticClass:"card--overlay"}),a("v-col",{staticClass:"pa-0"},[t.file?a("v-img",{staticClass:"rounded align-end card__img",attrs:{src:"https://psidatabaze.s3.eu-central-1.amazonaws.com/"+t.file.key,height:"450px"}}):e._e(),a("v-row",{staticClass:"px-5 card__content"},[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[t.body?a("v-chip",{staticClass:"mx-2",attrs:{label:""}},[e._v(e._s(t.body.place))]):e._e(),t.body?a("v-chip",{staticClass:"mx-2",attrs:{label:""}},[e._v(e._s(e.formatDate(t.body.date)))]):e._e(),t.body?a("v-chip",{staticClass:"mx-2",attrs:{label:""}},[e._v(e._s(t.body.sex))]):e._e()],1),a("v-col",{staticClass:"mx-2",attrs:{cols:"12"}},[t.body?a("v-chip",{attrs:{label:""}},[e._v(e._s(t.body.breed))]):e._e(),t.file?a("v-chip",{attrs:{label:""}},[e._v(e._s(t.body.status))]):e._e()],1)],1)],1)],1)],1)})),1):e._e()],1)},i=[],l=a("3835"),c=a("1da1"),p=(a("1276"),a("ac1f"),a("99af"),a("96cf"),a("5530")),u=a("d4ec"),d=a("bee2"),v=(a("d3b7"),a("d81d"),a("bc3a")),k=a.n(v),m="api/posts/",f=function(){function e(){Object(u["a"])(this,e)}return Object(d["a"])(e,null,[{key:"getPosts",value:function(){return new Promise((function(e,t){k.a.get(m).then((function(t){var a=t.data;e(a.map((function(e){return Object(p["a"])(Object(p["a"])({},e),{},{createdAt:new Date(e.createdAt)})})))})).catch((function(e){t(e)}))}))}},{key:"insertPost",value:function(e){return k()({method:"post",url:m,data:e,headers:{"Content-Type":"multipart/form-data"}})}},{key:"deletePost",value:function(e){return k.a.delete("".concat(m).concat(e))}}]),e}(),g=f,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center ma-3"},[a("FormFoundDog"),a("FormLostDog")],1)},h=[],y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center ma-3"},[a("v-container",[a("v-dialog",{attrs:{width:"700"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"grey lighten-5"}},"v-btn",o,!1),s),[e._v(" Nález psa ")])]}}]),model:{value:e.isDialogVisible,callback:function(t){e.isDialogVisible=t},expression:"isDialogVisible"}},[a("v-stepper",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-stepper-header",{staticClass:"px-8 "},[a("v-stepper-step",{staticClass:"px-16",attrs:{complete:e.step>1,step:"1",color:"grey"}}),a("v-divider"),a("v-stepper-step",{staticClass:"px-16",attrs:{step:"2",color:"grey"}}),a("v-divider"),a("v-stepper-step",{staticClass:"px-16",attrs:{step:"3",color:"grey"}})],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-form",{ref:"form1",staticClass:"grey lighten-2",attrs:{action:"/upload",method:"POST",enctype:"multipart/form-data","lazy-validation":""},model:{value:e.isStepOneValid,callback:function(t){e.isStepOneValid=t},expression:"isStepOneValid"}},[a("v-container",[a("v-row",{staticClass:"mx-1 mx-sm-2 pt-5 pt-sm-7 pb-3"},[a("v-col",{staticClass:"py-0 px-5",attrs:{cols:"12",sm:"6"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,o=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Datum nálezu","prepend-inner-icon":"mdi-calendar",readonly:""},model:{value:e.dateFormatted,callback:function(t){e.dateFormatted=t},expression:"dateFormatted"}},"v-text-field",o,!1),s))]}}]),model:{value:e.isDatepickerVisible,callback:function(t){e.isDatepickerVisible=t},expression:"isDatepickerVisible"}},[a("v-date-picker",{attrs:{locale:"cs-CZ","first-day-of-week":1,"allowed-dates":function(e){return e<=(new Date).toISOString().substr(0,10)}},on:{input:function(t){e.isDatepickerVisible=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),a("v-col",{staticClass:"py-0 px-5",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.placeRules,label:"Místo nálezu","prepend-inner-icon":"mdi-map-marker"},model:{value:e.foundDog.place,callback:function(t){e.$set(e.foundDog,"place",t)},expression:"foundDog.place"}})],1),a("v-col",{staticClass:"py-0 px-5",attrs:{cols:"12",sm:"6"}},[a("v-radio-group",{attrs:{row:""},model:{value:e.foundDog.sex,callback:function(t){e.$set(e.foundDog,"sex",t)},expression:"foundDog.sex"}},[a("v-radio",{attrs:{label:"Pes",value:"Pes"}}),a("v-radio",{attrs:{label:"Fena",value:"Fena"}})],1)],1),a("v-col",{staticClass:"py-0 px-5",attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{attrs:{rules:e.breedRules,items:e.breeds,label:"Plemeno"},model:{value:e.foundDog.breed,callback:function(t){e.$set(e.foundDog,"breed",t)},expression:"foundDog.breed"}})],1),a("v-col",[a("v-file-input",{attrs:{label:"Nahrát fotku",accept:".jpg, .jpeg, .png",rules:e.fileRules,"prepend-icon":"mdi-camera","show-size":""},on:{change:e.previewFile,"click:clear":function(t){e.image="",e.message=""}},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),a("v-col",{attrs:{cols:"12"}},[e.file?a("v-img",{attrs:{src:e.image,alt:"File preview",contain:""}}):e._e(),e.message?a("v-alert",{attrs:{type:"error",dense:""}},[e._v(e._s(e.message))]):e._e()],1),a("v-col",[a("v-btn",{staticClass:"float-right",attrs:{color:"grey-lighten-4",disabled:!e.isStepOneValid},on:{click:e.validate}},[e._v("Dále ")])],1)],1)],1)],1)],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-form",{staticClass:"grey lighten-2",model:{value:e.isStepTwoValid,callback:function(t){e.isStepTwoValid=t},expression:"isStepTwoValid"}},[a("v-container",[a("v-row",{staticClass:"mx-1 mx-sm-2 py-2 py-sm-3"},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:e.emailRules,label:"Kontaktní e-mail","prepend-icon":"mdi-email"},model:{value:e.foundDog.email,callback:function(t){e.$set(e.foundDog,"email",t)},expression:"foundDog.email"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Dodatečné info"},model:{value:e.foundDog.info,callback:function(t){e.$set(e.foundDog,"info",t)},expression:"foundDog.info"}})],1),a("v-col",{attrs:{cols:"12"}},[a("vue-recaptcha",{attrs:{sitekey:e.captchaSitekey},on:{verify:function(t){e.isCaptchaVerified=!0},expired:function(t){e.isCaptchaVerified=!1}}})],1),a("v-col",[a("v-btn",{attrs:{color:"grey-lighten-4"},on:{click:function(t){e.step=1}}},[e._v("Zpět")]),a("v-btn",{staticClass:"float-right",attrs:{color:"grey-lighten-4",disabled:!e.isStepTwoValid||!e.isCaptchaVerified},on:{click:function(t){e.step=3}}},[e._v("Přidat ")])],1)],1)],1)],1)],1),a("v-stepper-content",{attrs:{step:"3"}},[a("v-container",[a("v-card",{staticClass:"mb-6"},[e.file?a("v-img",{attrs:{src:e.image,contain:""}}):e._e(),a("v-card-title",[e._v(e._s(e.foundDog.breed))]),a("v-card-text",[a("div",[a("b",[e._v("Místo nálezu: ")]),e._v(" "+e._s(e.foundDog.place))]),a("div",[a("b",[e._v("Pohlaví: ")]),e._v(e._s(e.foundDog.sex))]),a("div",[a("b",[e._v("Kontaktní e-mail: ")]),e._v(" "+e._s(e.foundDog.email))]),e.foundDog.info?a("div",[a("b",[e._v("Dodatečné info: ")]),e._v(" "+e._s(e.foundDog.info))]):e._e()])],1),a("v-btn",{attrs:{color:"grey-lighten-4"},on:{click:function(t){e.step=2}}},[e._v(" Zpět ")]),a("v-btn",{staticClass:"float-right",attrs:{color:"grey-lighten-4"},on:{click:function(t){return e.newPost()}}},[e._v(" Přidat ")])],1)],1)],1)],1)],1)],1)],1)},x=[],D=(a("2b3d"),a("3ca3"),a("ddb0"),new s["a"]),V=D,_=a("e096"),C=a("9368"),S={methods:{filterAdultContent:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C["load"]("/model/min_nsfwjs/",{size:299});case 2:return a=t.sent,s=new Image,s.src=e,s.width=512,s.height=512,t.next=9,a.classify(s);case 9:o=t.sent,V.$emit("isImageSafe",o);case 11:case"end":return t.stop()}}),t)})))()}}},w=["Jiné",{divider:!0},"Afghánský chrt","Aidi","Airedale terier","Akbaš","Akita-Inu","Aljašský klee kai","Aljašský malamut","Alpský jezevčíkovitý brakýř","Americká akita (neboli velký japonský pes)","Americký bezsrstý teriér","Americký buldok","Americký kokršpaněl","Americký stafordširský terier","Anatolský pastevecký pes","Anglický buldok","Anglický foxhound","Anglický chrt (Greyhound)","Anglický kokršpaněl","Anglický mastif","Anglický setr","Anglický špringršpaněl","Anglický toy terier","Appenzellský salašnický pes","Argentinská doga","Ariégois","Ariegský ohař krátkosrstý","Australská kelpie","Australský honácký pes","Australský ovčák","Australský teriér","Auvergneský ohař krátkosrstý","Azavak","Barbet","Barzoj","Basenji","Baset","Bavorský barvář","Bearded kolie","Bedlington teriér","Belgický grifonek","Belgický ovčák","Belgický ovčák - Groenendael","Belgický ovčák - Laekenois","Belgický ovčák - Malinois","Belgický ovčák - Tervueren","Bergamský ovčák","Bernský salašnický pes","Beauceron","Bígl","Bígl-Harrier","Billy","Bišonek","Bílý švýcarský ovčák","Black and tan Coonhound","Bloodhound","Blue Lacy","Bobtail","Boloňský psík","Bordeauxská doga","Border kolie","Border teriér","Bosenský hrubosrstý honič","Bostonský teriér","Brabantík","Brazilská fila","Brazilský teriér","Bretaňský ohař","Briard","Briquet Griffon Vendéen","Bruselský grifonek","Bullmastif","Bulteriér","Cairn teriér","Cao de Castro Laboreiro","Clumber španěl","Coton de Tulear","Curly coated retrívr","Čau-čau","Černý teriér","Československý vlčák","Český fousek","Český horský pes","Český strakatý pes","Český teriér","Čínský chocholatý pes","Čivava","Dalmatin","Dandie dinmont teriér","Dánská doga","Dánsko-švédský farmářský pes","Deerhound","Dobrman","Dunker","Entlebušský salašnický pes","Estrelský pastevecký pes","Eurasier","Evropský saňový pes","Faraonský pes","Finský špic","Flanderský bouvier","Flat coated retrívr","Foxteriér drsnosrstý","Foxteriér hladkosrstý","Francouzský buldoček","Gordonsetr","Grónský pes","Hamiltonův honič","Hannoverský barvář","Havanský psík","Hokkaido-Ken","Holandský ovčácký pudl","Holandský ovčák","Holandský pinč","Hovawart","Hygenův honič","Chesapeake Bay retrívr","Chodský pes","Chortaja borzaja","Chorvatský ovčák","Ibizský podenco","Irský červenobílý setr","Irský setr","Irský teriér","Irský vlkodav","Irský vodní španěl","Istrijský krátkosrstý honič","Italský corso pes","Italský chrtík","Italský ohař","Italský segugio","Italský spinone","Italský volpino","Jack Russell teriér","Jämthund","Japan-chin","Japonský špic","Japonský teriér","Jezevčík","Jihoruský ovčák","Jugoslávský trikolorní honič","Kanaánský pes","Kanadský eskymácký pes","Kanárský podenco","Karelský medvědí pes","Katalánský ovčák","Kavalír King Charles španěl","Kavkazský pastevecký pes","Kerry bígl","Kerry blue teriér","King Charles španěl","Kishu-Inu","Knírač malý","Knírač střední","Knírač velký","Kolie dlouhosrstá","Kolie krátkosrstá","Komondor","Kontinentální buldok","Kooikerhondje","Korejský Jindo","Krašský pastevecký pes","Kromforländer","Krysí teriér","Kuvasz","Labradorský retrívr","Lagotto Romagnolo (Italský vodní pes)","Lakeland teriér","Landseer","Lapinkoira","Lapinporokoira","Leonberger","Lhasa Apso","Louisianský leopardí pes","Manchester teriér","Maďarský ohař drátosrstý","Maďarský ohař krátkosrstý","Malorská doga","Malorský krysařík","Malorský ovčák (Ca de Bestiar)","Maltézský psík","Malý hrubosrstý vendéeský baset","Malý münsterlandský ohař","Manchester teriér","Maremmansko-abruzzský pastevecký pes","Mexický naháč","Miniaturní bulteriér","Modrý coonhound","Mops","Moskevský strážní pes","Mudi","Neapolský mastin","Německá doga","Německý boxer","Německý křepelák","Německý lovecký teriér","Německý ohař drátosrstý","Německý ohař krátkosrstý","Německý ovčák","Německý pinč","Německý špic","Norbotenský špic","Norfolk teriér (norfolský teriér)","Norský buhund","Norský lundehund","Nova Scotia duck tolling retrívr","Novofundlandský pes","Opičí pinč","Otterhound","Papillon","Parson Russell teriér","Patterdale teriér","Pekingský palácový psík","Peruánský naháč","Phalène","Pikardský ovčák","Plavý bretaňský baset","Plavý bretaňský honič","Plummerův teriér","Podhalaňský ovčák","Pointer","Poitevin","Polský chrt","Polský ovčák nížinný","Porcelaine","Portugalský ovčák","Portugalský podengo","Portugalský vodní pes","Pražský krysařík","Pudl střední","Pudl toy","Pudl trpasličí","Pudl velký","Pudlpointr","Puli","Pumi","Pyrenejský horský pes","Pyrenejský mastin","Pyrenejský ovčák","Redbone Coonhound","Rhodéský ridgeback","Rotvajler","Ruskoevropská lajka","Řecký honič","Saarloosův vlčák","Saluki","Samojed","Sealyham teriér","Sheltie","Shiba-Inu","Shih-tzu","Shikoku-Inu","Shilohský ovčák","Sibiřský husky","Silky teriér","Skotský teriér","Skye teriér","Sloughi","Slovenský čuvač","Slovenský kopov","Slovenský ohař hrubosrstý","Srbský honič (neboli balkánský honič)","Stabyhoun","Stafordšírský bulteriér","Středoasijský pastevecký pes","Sussex španěl","Svatobernardský pes","Šarpej","Šarplaninský pastevecký pes","Šiperka","Španělský alano","Španělský galgo","Španělský mastin","Španělský vodní pes","Štýrský brakýř","Švýcarský honič","Švýcarský honič - Bernský honič","Švýcarský honič - Schwyzský honič","Taigan","Thajský ridgeback","Tibetská doga","Tibetský španěl","Tornjak","Tosa-Inu","Toy foxteriér","Trpasličí pinč","Vaestgoetlandský špic (Vallhund)","Velký hrubosrstý vendéeský baset","Velký münsterlandský ohař","Velký švýcarský salašnický pes","Velšský ovčák","Velššpringršpaněl","Velšteriér","Východoevropský ovčák","Východosibiřská lajka","Výmarský ohař","Výmarský ohař krátkosrstý","Welsh Corgi Cardigan","Welsh Corgi Pembroke","West Highland White teriér","Whippet","Yorkšírský teriér","Západosibiřská lajka","Zlatý retrívr"],P=w,j={nameRules:[function(e){return!!e||"Zadejte prosím jméno psa"},function(e){return e&&e.length<=15||"Jméno musí obsahovat max. 15 znaků"}],emailRules:[function(e){return!!e||"Zadejte prosím váš kontaktní E-mail"},function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||"Neplatný E-mail"}],placeRules:[function(e){return!!e||"Zadejte prosím místo nálezu/ztráty psa"},function(e){return e&&e.length<=50||"Místo musí obsahovat max. 50 znaků"}],ageRules:[function(e){return!!e||"Zadejte prosím věk psa"},function(e){return e&&e>=0&&e<30||"Zadejte platný věk"}],breedRules:[function(e){return!!e||'Pokud neznáte plemeno, zvolte možnost "Jiné"'}],fileRules:[function(e){return!!e||"Prosím nahrajte foto"},function(e){return!e||e.size<5e6||"Foto musí mít maximálně 5MB"},function(e){return!e||"image/jpg"===e.type||"image/jpeg"===e.type||"image/png"===e.type||"Pouze soubory ve formátu jpg/jpeg/png"}]},R=j,O={data:function(){return{foundDog:{place:"",sex:"",breed:"",email:"",info:""},lostDog:{name:"",place:"",sex:"",age:"",breed:"",email:"",info:""},step:1,isDialogVisible:!1,isDatepickerVisible:!1,isStepOneValid:!1,isStepTwoValid:!1,isImageSafe:!1,isCaptchaVerified:!1,date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),file:[],image:"",breeds:P,captchaSitekey:"6LfiXSMdAAAAANASmyLxKGiQW77f1Da0PKjTmvKh",message:"",emailRules:R.emailRules,placeRules:R.placeRules,breedRules:R.breedRules,fileRules:R.fileRules,nameRules:R.nameRules,ageRules:R.ageRules}}};a("ed18").config();var A={components:{VueRecaptcha:_["a"]},mixins:[O,S],created:function(){var e=this;V.$on("isImageSafe",(function(t){"Neutral"===t[0].className?e.isImageSafe=!0:(e.message="Tato fotka nevypadá bezpečně, zkuste prosím jinou",e.isImageSafe=!1)}))},computed:{dateFormatted:function(){return this.formatDate(this.date)},onlyPastDates:function(){return this.date}},methods:{newPost:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isStepOneValid&&e.isStepTwoValid&&e.isImageSafe?(a=new FormData,a.append("status","found"),a.append("date",e.date),a.append("place",e.foundDog.place),a.append("sex",e.foundDog.sex),a.append("breed",e.foundDog.breed),a.append("email",e.foundDog.email),a.append("info",e.foundDog.info),a.append("file",e.file),V.$emit("sendFormData",a)):(e.message="Vložení se nezdařilo, nebyla vyplněna všechna povinná pole",V.$emit("sendMessage",{message:e.message,error:!0}));case 1:case"end":return t.stop()}}),t)})))()},previewFile:function(){this.file&&(this.image=URL.createObjectURL(this.file),this.filterAdultContent(this.image))},formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(l["a"])(t,3),s=a[0],o=a[1],r=a[2];return"".concat(r,". ").concat(o,". ").concat(s)},validate:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form1.validate();case 2:e.isImageSafe&&(e.step=2);case 3:case"end":return t.stop()}}),t)})))()}}},z=A,B=a("2877"),F=a("6544"),I=a.n(F),T=a("0798"),M=a("c6a6"),K=a("8336"),$=a("b0af"),N=a("99d9"),L=a("62ad"),J=a("a523"),Z=a("2e4b"),H=a("169a"),E=a("ce7e"),G=a("23a7"),W=a("4bd4"),U=a("adda"),q=a("e449"),Q=a("67b6"),X=a("43a6"),Y=a("0fd9"),ee=a("7e85"),te=a("e516"),ae=a("9c54"),se=a("56a4"),oe=a("8654"),re=a("a844"),ne=Object(B["a"])(z,y,x,!1,null,null,null),ie=ne.exports;I()(ne,{VAlert:T["a"],VAutocomplete:M["a"],VBtn:K["a"],VCard:$["a"],VCardText:N["b"],VCardTitle:N["c"],VCol:L["a"],VContainer:J["a"],VDatePicker:Z["a"],VDialog:H["a"],VDivider:E["a"],VFileInput:G["a"],VForm:W["a"],VImg:U["a"],VMenu:q["a"],VRadio:Q["a"],VRadioGroup:X["a"],VRow:Y["a"],VStepper:ee["a"],VStepperContent:te["a"],VStepperHeader:ae["a"],VStepperItems:ae["b"],VStepperStep:se["a"],VTextField:oe["a"],VTextarea:re["a"]});var le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center ma-3"},[a("v-dialog",{attrs:{width:"700"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"grey lighten-5"}},"v-btn",o,!1),s),[e._v(" Ztráta psa ")])]}}]),model:{value:e.isDialogVisible,callback:function(t){e.isDialogVisible=t},expression:"isDialogVisible"}},[a("v-stepper",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-stepper-header",{staticClass:"px-16"},[a("v-stepper-step",{staticClass:"px-16",attrs:{complete:e.step>1,step:"1",color:"grey"}}),a("v-divider"),a("v-stepper-step",{staticClass:"px-16",attrs:{step:"2",color:"grey"}}),a("v-divider"),a("v-stepper-step",{staticClass:"px-16",attrs:{step:"3",color:"grey"}})],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-form",{ref:"form",staticClass:"grey lighten-2",attrs:{action:"/upload",method:"POST",enctype:"multipart/form-data","lazy-validation":""},model:{value:e.isStepOneValid,callback:function(t){e.isStepOneValid=t},expression:"isStepOneValid"}},[a("v-container",[a("v-row",{staticClass:"mx-1 mx-sm-2 pt-5 pt-sm-7 pb-3"},[a("v-col",{staticClass:"py-0 px-5",attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:e.nameRules,label:"Jméno"},model:{value:e.lostDog.name,callback:function(t){e.$set(e.lostDog,"name",t)},expression:"lostDog.name"}})],1),a("v-col",{staticClass:"py-0 px-5",attrs:{cols:"12",sm:"6"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,o=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Datum zmizení","prepend-inner-icon":"mdi-calendar",readonly:""},model:{value:e.dateFormatted,callback:function(t){e.dateFormatted=t},expression:"dateFormatted"}},"v-text-field",o,!1),s))]}}]),model:{value:e.isDatepickerVisible,callback:function(t){e.isDatepickerVisible=t},expression:"isDatepickerVisible"}},[a("v-date-picker",{attrs:{locale:"cs-CZ","first-day-of-week":1,"allowed-dates":function(e){return e<=(new Date).toISOString().substr(0,10)}},on:{input:function(t){e.isDatepickerVisible=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),a("v-col",{staticClass:"py-0 px-5",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.placeRules,label:"Místo zmizení","prepend-inner-icon":"mdi-map-marker"},model:{value:e.lostDog.place,callback:function(t){e.$set(e.lostDog,"place",t)},expression:"lostDog.place"}})],1),a("v-col",{staticClass:"py-0 px-5",attrs:{cols:"12",sm:"6"}},[a("v-radio-group",{attrs:{row:""},model:{value:e.lostDog.sex,callback:function(t){e.$set(e.lostDog,"sex",t)},expression:"lostDog.sex"}},[a("v-radio",{attrs:{label:"Pes",value:"Pes"}}),a("v-radio",{attrs:{label:"Fena",value:"Fena"}})],1)],1),a("v-col",{staticClass:"py-0 px-5",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.ageRules,label:"Věk",type:"number"},model:{value:e.lostDog.age,callback:function(t){e.$set(e.lostDog,"age",t)},expression:"lostDog.age"}})],1),a("v-col",{staticClass:"py-0 px-5",attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{rules:e.breedRules,items:e.breeds,label:"Plemeno"},model:{value:e.lostDog.breed,callback:function(t){e.$set(e.lostDog,"breed",t)},expression:"lostDog.breed"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{label:"Nahrát fotku",accept:".jpg, .jpeg, .png",rules:e.fileRules,"prepend-icon":"mdi-camera"},on:{change:e.previewFile,"click:clear":function(t){e.image="",e.message=""}},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),a("v-col",{attrs:{cols:"12"}},[e.file?a("v-img",{attrs:{src:e.image,alt:"File preview",contain:""}}):e._e(),e.message?a("v-alert",{attrs:{type:"error",dense:""}},[e._v(e._s(e.message))]):e._e()],1),a("v-col",[a("v-btn",{staticClass:"float-right",attrs:{color:"grey-lighten-4",disabled:!e.isStepOneValid||!e.isImageSafe},on:{click:function(t){e.step=2}}},[e._v("Dále ")])],1)],1)],1)],1)],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-form",{ref:"form",staticClass:"grey lighten-2",model:{value:e.isStepTwoValid,callback:function(t){e.isStepTwoValid=t},expression:"isStepTwoValid"}},[a("v-container",[a("v-row",{staticClass:"mx-1 mx-sm-2 py-2 py-sm-3"},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:e.emailRules,label:"Kontaktní e-mail","prepend-icon":"mdi-email"},model:{value:e.lostDog.email,callback:function(t){e.$set(e.lostDog,"email",t)},expression:"lostDog.email"}})],1),a("v-col",{staticClass:"py-0 px-5",attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Dodatečné info"},model:{value:e.lostDog.info,callback:function(t){e.$set(e.lostDog,"info",t)},expression:"lostDog.info"}})],1),a("v-col",{attrs:{cols:"12"}},[a("vue-recaptcha",{attrs:{sitekey:e.captchaSitekey},on:{verify:function(t){e.isCaptchaVerified=!0}}})],1),a("v-col",[a("v-btn",{attrs:{color:"grey-lighten-4"},on:{click:function(t){e.step=1}}},[e._v("Zpět")]),a("v-btn",{staticClass:"float-right",attrs:{color:"grey-lighten-4",disabled:!e.isStepTwoValid||!e.isCaptchaVerified},on:{click:function(t){e.step=3}}},[e._v("Přidat ")])],1)],1)],1)],1)],1),a("v-stepper-content",{attrs:{step:"3"}},[a("v-container",[a("v-card",{staticClass:"mb-6"},[e.file?a("v-img",{attrs:{src:e.image,contain:""}}):e._e(),a("v-card-title",[e._v(e._s(e.lostDog.name))]),a("v-card-subtitle",[e._v(e._s(e.lostDog.breed))]),a("v-card-text",[a("div",[a("b",[e._v("Místo nálezu: ")]),e._v(" "+e._s(e.lostDog.place))]),a("div",[a("b",[e._v("Pohlaví: ")]),e._v(e._s(e.lostDog.sex))]),a("div",[a("b",[e._v("Věk: ")]),e._v(e._s(e.lostDog.age))]),a("div",[a("b",[e._v("Kontaktní e-mail: ")]),e._v(" "+e._s(e.lostDog.email))]),e.lostDog.info?a("div",[a("b",[e._v("Dodatečné info: ")]),e._v(" "+e._s(e.lostDog.info))]):e._e()])],1),a("v-btn",{attrs:{color:"grey-lighten-4"},on:{click:function(t){e.step=2}}},[e._v(" Zpět ")]),a("v-btn",{staticClass:"float-right",attrs:{color:"grey-lighten-4"},on:{click:function(t){return e.newPost()}}},[e._v(" Přidat ")])],1)],1)],1)],1)],1)],1)},ce=[];a("b0c0");a("ed18").config();var pe={components:{VueRecaptcha:_["a"]},mixins:[O,S],created:function(){var e=this;V.$on("isImageSafe",(function(t){"Neutral"===t[0].className?e.isImageSafe=!0:(e.message="Tato fotka nevypadá bezpečně, zkuste prosím jinou",e.isImageSafe=!1)}))},computed:{dateFormatted:function(){return this.formatDate(this.date)},onlyPastDates:function(){return this.date}},methods:{newPost:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isStepOneValid&&e.isStepTwoValid&&e.isImageSafe?(a=new FormData,a.append("status","lost"),a.append("name",e.lostDog.name),a.append("date",e.date),a.append("place",e.lostDog.place),a.append("sex",e.lostDog.sex),a.append("age",e.lostDog.age),a.append("breed",e.lostDog.breed),a.append("email",e.lostDog.email),a.append("info",e.lostDog.info),a.append("file",e.file),V.$emit("sendFormData",a)):(e.message="Vložení se nezdařilo, nebyla vyplněna všechna povinná pole",V.$emit("sendMessage",{message:e.message,error:!0}));case 1:case"end":return t.stop()}}),t)})))()},previewFile:function(){this.file&&(this.image=URL.createObjectURL(this.file),this.filterAdultContent(this.image))},formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(l["a"])(t,3),s=a[0],o=a[1],r=a[2];return"".concat(r,". ").concat(o,". ").concat(s)}}},ue=pe,de=Object(B["a"])(ue,le,ce,!1,null,null,null),ve=de.exports;I()(de,{VAlert:T["a"],VAutocomplete:M["a"],VBtn:K["a"],VCard:$["a"],VCardSubtitle:N["a"],VCardText:N["b"],VCardTitle:N["c"],VCol:L["a"],VContainer:J["a"],VDatePicker:Z["a"],VDialog:H["a"],VDivider:E["a"],VFileInput:G["a"],VForm:W["a"],VImg:U["a"],VMenu:q["a"],VRadio:Q["a"],VRadioGroup:X["a"],VRow:Y["a"],VStepper:ee["a"],VStepperContent:te["a"],VStepperHeader:ae["a"],VStepperItems:ae["b"],VStepperStep:se["a"],VTextField:oe["a"],VTextarea:re["a"]});var ke={components:{FormFoundDog:ie,FormLostDog:ve},created:function(){var e=this;V.$on("sendFormData",function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.insertPost(a);case 3:return t.next=5,g.getPosts();case 5:e.posts=t.sent,e.message="Úspěšně nahráno",V.$emit("sendMessage",{message:e.message,error:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.message=t.t0.response.data.error,V.$emit("sendMessage",{message:e.message,error:!0});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())}},me=ke,fe=Object(B["a"])(me,b,h,!1,null,null,null),ge=fe.exports,be={components:{Form:ge},data:function(){return{posts:{body:"",file:""},message:"",selectedDog:{},dialog:!1,error:!0}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.getPosts();case 3:e.posts=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.message=t.t0.message;case 9:V.$on("sendMessage",(function(t){e.message=t.message,e.error=t.error}));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},methods:{deletePost:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,g.deletePost(e);case 2:return a.next=4,g.getPosts();case 4:t.posts=a.sent;case 5:case"end":return a.stop()}}),a)})))()},updateSelected:function(e){this.selectedDog=e,this.dialog=!0},formatDate:function(e){var t=e.split("-"),a=Object(l["a"])(t,3),s=a[0],o=a[1],r=a[2];return"".concat(r,". ").concat(o,". ").concat(s)}}},he=be,ye=(a("337b"),a("cc20")),xe=Object(B["a"])(he,n,i,!1,null,"7a63dc13",null),De=xe.exports;I()(xe,{VCard:$["a"],VChip:ye["a"],VCol:L["a"],VContainer:J["a"],VDialog:H["a"],VImg:U["a"],VRow:Y["a"]});var Ve={name:"App",components:{PostComponent:De},data:function(){return{PostComponent:De}}},_e=Ve,Ce=a("7496"),Se=a("f6c4"),we=Object(B["a"])(_e,o,r,!1,null,null,null),Pe=we.exports;I()(we,{VApp:Ce["a"],VMain:Se["a"]});var je=a("f309");s["a"].use(je["a"]);var Re=new je["a"]({});a("d1e78");s["a"].config.productionTip=!1,new s["a"]({vuetify:Re,render:function(e){return e(Pe)}}).$mount("#app")},6:function(e,t){},"67e8":function(e,t,a){},7:function(e,t){},8:function(e,t){},9:function(e,t){}});
//# sourceMappingURL=app.a06befbe.js.map